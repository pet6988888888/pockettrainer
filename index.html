<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Workout Club</title>
    <meta name="description" content="Train Anywhere, Transform Everywhere!">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg-color: #2e2e2e;
            --bg-image: url('https://raw.githubusercontent.com/pet6988888888/images/refs/heads/main/appbg3.jpg');
            --bg-opacity: 0.03;
            --card-bg: #000000;
            --card-bg-opacity: 0.56;
            --primary: #4f46e5;
            --secondary: #10b981;
            --text-color: #f3f4f6;
            --headline-color: #ffffff;
            --subtitle-color: #9ca3af;
            --tab-color: #10b981;
            --accent: #f59e0b;
            --app-name-color: #ffffff;
            --app-tagline-color: #ffffff;
        }
        body { 
            color: var(--text-color); 
            min-height: 100vh;
        }
        .app-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
        }
        .app-bg-image {
            position: absolute;
            inset: 0;
            background: var(--bg-image) center/cover no-repeat;
            background-color: var(--bg-color);
        }
        .app-bg-overlay {
            position: absolute;
            inset: 0;
            background: var(--bg-color);
            opacity: var(--bg-opacity);
        }
        .card-bg { background: var(--card-bg); }
        .btn-primary { background: var(--primary); }
        .btn-secondary { background: var(--secondary); }
        .border-primary { border-color: var(--primary); }
        .border-secondary { border-color: var(--secondary); }
        .text-headline { color: var(--headline-color); }
        .text-subtitle { color: var(--subtitle-color); }
        .text-tab { color: var(--tab-color); }
        .bg-tab { background: var(--tab-color); }
        .border-tab { border-color: var(--tab-color); }
        .text-accent { color: var(--accent); }
        .text-app-name { color: var(--app-name-color); }
        .text-app-tagline { color: var(--app-tagline-color); }
        .big-timer { font-size: 4rem; line-height: 1; }
        .big-timer.seconds-only { font-size: 5rem; }
        .progress-circle { transition: stroke-dashoffset 0.3s ease; }
    </style>
</head>
<body class="min-h-screen">
    <div class="app-bg">
        <div class="app-bg-image"></div>
        <div class="app-bg-overlay"></div>
    </div>
    <div id="app"></div>
    <script>
        const WORKOUTS = [
  {
    "id": "id-6pyavuzqe",
    "name": "HIWT Beginner",
    "group": "HIWT",
    "target": "Full Body High-Intensity Workout",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Push-Ups",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "https://homeworkoutfactory.com/wp-content/uploads/2025/11/Untitled-design.mp4",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "https://homeworkoutfactory.com/wp-content/uploads/2025/11/Untitled-design-6.mp4",
        "imageUrl": ""
      },
      {
        "name": "Squats",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "https://homeworkoutfactory.com/wp-content/uploads/2025/11/Untitled-design-5.mp4",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "https://homeworkoutfactory.com/wp-content/uploads/2025/11/Untitled-design-6.mp4",
        "imageUrl": ""
      },
      {
        "name": "Squat & Press",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Mountain Climbers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Jumping Jacks",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-sblih89zx",
    "name": "HIWT Intermediate",
    "group": "HIWT",
    "target": "Full Body High-Intensity Workout",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Push-Ups",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Lunges",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Push Press (Dumbbells optional)",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Fast Mountain Climbers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Power Jacks",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-wohh05wmd",
    "name": "HIWT Advanced",
    "group": "HIWT",
    "target": "Full Body High-Intensity Workout",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Decline Push-Ups",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Jumping Lunges",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Thruster (DB or BW)",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Cross-Body Mountain Climbers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Squat Tuck Jumps",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-xw6q032bq",
    "name": "HIIT Cardio Beginner",
    "group": "HIIT",
    "target": "Cardiovascular Endurance & Fat Loss",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Jog in Place",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Step Jacks",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Marching High Knees",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Fast Feet",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Air Squats",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-6h74l20b6",
    "name": "HIIT Cardio Intermediate",
    "group": "HIIT",
    "target": "Cardiovascular Endurance & Fat Loss",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Jumping Jacks",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "High Knees",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Burpees",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Mountain Climbers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Squat Jumps",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-eowy9ckql",
    "name": "HIIT Cardio Advanced",
    "group": "HIIT",
    "target": "Cardiovascular Endurance & Fat Loss",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Burpees",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "High Knee Sprints",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Jumping Lunges",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Plank Jacks",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Thrusts",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-9fdqr1ndd",
    "name": "Core Workout Beginner",
    "group": "CORE",
    "target": "Core Stability & Strength",
    "duration": "3 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Knee Plank",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bridge Hold",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Knee Side Plank (R)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Knee Side Plank (L)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-3qg8fh6g2",
    "name": "Core Workout Intermediate",
    "group": "CORE",
    "target": "Core Stability & Strength",
    "duration": "3 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Front Plank",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Side Plank (Left)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Side Plank (Right)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Back Extension",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-35b9797u6",
    "name": "Core Workout Advanced",
    "group": "CORE",
    "target": "Core Stability & Strength",
    "duration": "3 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Plank Knee to Elbow",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Single Leg Reverse Plank",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Side Plank Hip Lifts (R)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Side Plank Hip Lifts (L)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-z0ynefy6e",
    "name": "Abs Workout Beginner",
    "group": "ABS",
    "target": "Abdominal Strength & Definition",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Heel Touchers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Crunches",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Reverse Crunch",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Plank",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-dmcn8qcu6",
    "name": "Abs Workout Intermediate",
    "group": "ABS",
    "target": "Abdominal Strength & Definition",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Crunch",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Reverse Crunch",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bicycle Crunch",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Mountain Climbers",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-0693d1ru7",
    "name": "Abs Workout Advanced",
    "group": "ABS",
    "target": "Abdominal Strength & Definition",
    "duration": "2 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "MB Reverse Crunch",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "MB Drop Off",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Ball Slams",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "MB Russian Twists",
        "type": "exercise",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-j9zoyeykn",
    "name": "Muscle Building Beginner",
    "group": "MUSCLE",
    "target": "Muscle Growth & Strength",
    "duration": "7 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Knee Push-Up",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bent Over Row",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Shoulder Press",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Squat",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bridge",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-00u5t8lr3",
    "name": "Muscle Building Intermediate",
    "group": "MUSCLE",
    "target": "Muscle Growth & Strength",
    "duration": "7 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Push-Up",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bent Over Row",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Pike Press",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "DB Bicep Curls",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Deep Squat",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-krfn66zzs",
    "name": "Muscle Building Advanced",
    "group": "MUSCLE",
    "target": "Muscle Growth & Strength",
    "duration": "10 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Decline Push-Up",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Bent Over Row",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Elevated Pike Press",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Straight Leg Deadlift",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "DB Squat",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Archer Push-Up",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Squat Curls",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-ttfx3ixa1",
    "name": "Morning Flow Yoga",
    "group": "Yoga",
    "target": "Flexibility, gentle wake-up, mindfulness",
    "duration": "7 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Cat-Cow Stretch",
        "type": "exercise",
        "duration": 45,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Sun Salutation A (modified)",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Downward-Facing Dog",
        "type": "exercise",
        "duration": 40,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Warrior I",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Warrior II",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Triangle Pose",
        "type": "exercise",
        "duration": 35,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Child's Pose",
        "type": "exercise",
        "duration": 45,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Savasana (Corpse Pose)",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-o1ekn0kox",
    "name": "Evening Unwind Yoga",
    "group": "Yoga",
    "target": "Relaxation, stress relief, gentle stretching",
    "duration": "7 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Supine Spinal Twist",
        "type": "exercise",
        "duration": 50,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Reclined Bound Angle Pose",
        "type": "exercise",
        "duration": 55,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Legs-Up-The-Wall Pose",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Pigeon Pose",
        "type": "exercise",
        "duration": 45,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Seated Forward Fold",
        "type": "exercise",
        "duration": 40,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Child's Pose",
        "type": "exercise",
        "duration": 50,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Savasana (Corpse Pose)",
        "type": "exercise",
        "duration": 60,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  },
  {
    "id": "id-6ui851b3s",
    "name": "Strength & Balance Yoga",
    "group": "Yoga",
    "target": "Core strength, balance, muscle endurance",
    "duration": "6 min",
    "icon": "Dumbbell",
    "exercises": [
      {
        "name": "Plank Pose",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Chair Pose",
        "type": "exercise",
        "duration": 40,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Warrior III",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Tree Pose",
        "type": "exercise",
        "duration": 45,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Crow Pose Prep (or Crow Pose)",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 20,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Boat Pose",
        "type": "exercise",
        "duration": 35,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 15,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Side Plank",
        "type": "exercise",
        "duration": 30,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Rest",
        "type": "rest",
        "duration": 10,
        "videoUrl": "",
        "imageUrl": ""
      },
      {
        "name": "Dolphin Pose",
        "type": "exercise",
        "duration": 40,
        "videoUrl": "",
        "imageUrl": ""
      }
    ]
  }
];
        const APP_NAME = "Home Workout Club";
        const APP_DESC = "Train Anywhere, Transform Everywhere!";
        const APP_LOGO = "https://raw.githubusercontent.com/pet6988888888/images/refs/heads/main/home_workout__2_-removebg-preview.png";
        const COLORS = {"background":"#2e2e2e","backgroundImage":"https://raw.githubusercontent.com/pet6988888888/images/refs/heads/main/appbg3.jpg","backgroundOpacity":0.03,"cardBackground":"#000000","cardBackgroundOpacity":0.56,"primaryColor":"#4f46e5","secondaryColor":"#10b981","textColor":"#f3f4f6","headlineColor":"#ffffff","subtitleColor":"#9ca3af","tabColor":"#10b981","accentColor":"#f59e0b","appNameColor":"#ffffff","appTaglineColor":"#ffffff"};
        
        let currentView = 'groupList';
        let selectedGroupName = null;
        let selectedWorkoutId = null;
        let selectedRounds = 1;
        let currentStepIndex = 0;
        let currentWorkoutSteps = [];
        let timeLeft = 0;
        let initialTime = 0;
        let totalTimeLeft = 0;
        let initialTotalDuration = 0;
        let totalExerciseTime = 0;
        let totalRestTime = 0;
        let isRunning = false;
        let timerInterval = null;
        let introInterval = null;
        let preWorkoutCountdown = 5;
        let audioContext = null;

        const formatTime = (seconds) => {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins + ':' + secs.toString().padStart(2, '0');
        };

        const formatBigTimer = (seconds) => {
            if (seconds < 60) return seconds.toString();
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins + ':' + secs.toString().padStart(2, '0');
        };

        const hexToRgba = (hex, alpha) => {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';
        };

        const playTone = (frequency = 440, duration = 0.1) => {
            if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        };

        const navigateTo = (view, params = {}) => {
            if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
            if (introInterval) { clearInterval(introInterval); introInterval = null; }
            isRunning = false;
            preWorkoutCountdown = 5;

            currentView = view;
            if (params.groupName !== undefined) selectedGroupName = params.groupName;
            if (params.workoutId !== undefined) {
                selectedWorkoutId = params.workoutId;
                const workout = WORKOUTS.find(w => w.id === selectedWorkoutId);
                if (workout) {
                    currentWorkoutSteps = [];
                    for (let round = 1; round <= selectedRounds; round++) {
                        workout.exercises.forEach(ex => {
                            currentWorkoutSteps.push({ ...ex, round });
                        });
                        if (round < selectedRounds) {
                            currentWorkoutSteps.push({ name: 'Round Break', type: 'transition', duration: 60, round });
                        }
                    }
                    currentStepIndex = 0;
                    if (currentWorkoutSteps.length > 0) {
                        timeLeft = currentWorkoutSteps[0].duration;
                        initialTime = currentWorkoutSteps[0].duration;
                        totalTimeLeft = currentWorkoutSteps.reduce((sum, step) => sum + step.duration, 0);
                        initialTotalDuration = totalTimeLeft;
                        totalExerciseTime = currentWorkoutSteps.filter(s => s.type === 'exercise').reduce((sum, s) => sum + s.duration, 0);
                        totalRestTime = currentWorkoutSteps.filter(s => s.type !== 'exercise').reduce((sum, s) => sum + s.duration, 0);
                    }
                }
            }
            renderApp();
        };

        const renderApp = () => {
            const app = document.getElementById('app');
            switch (currentView) {
                case 'groupList': renderGroupList(app); break;
                case 'workoutList': renderGroupWorkouts(app); break;
                case 'detail': renderWorkoutDetail(app); break;
                case 'player': renderWorkoutPlayer(app); break;
                case 'complete': renderCompletionScreen(app); break;
                default: renderGroupList(app);
            }
        };

        const renderGroupList = (container) => {
            const groups = [...new Set(WORKOUTS.map(w => w.group.split(' > ')[0]))].map(g => ({
                name: g,
                count: WORKOUTS.filter(w => w.group.split(' > ')[0] === g).length
            }));

            const bgStyle = COLORS.backgroundImage 
                ? 'background: url(\'' + COLORS.backgroundImage + '\') center/cover no-repeat, ' + COLORS.background
                : 'background: ' + COLORS.background;

            const cardBgWithOpacity = hexToRgba(COLORS.cardBackground, COLORS.cardBackgroundOpacity);

            container.innerHTML = `
                <div class="min-h-screen p-4" style="${bgStyle}; color: ${COLORS.textColor};">
                    <header class="py-6 mb-6 text-center">
                        ${APP_LOGO ? '<img src="' + APP_LOGO + '" alt="Logo" class="h-16 mx-auto mb-4 object-contain" onerror="this.style.display=\'none\'" />' : ''}
                        <h1 class="text-3xl font-extrabold" style="color: ${COLORS.appNameColor}">${APP_NAME}</h1>
                        <p class="mt-1" style="color: ${COLORS.appTaglineColor}">${APP_DESC}</p>
                    </header>
                    <div class="space-y-4" id="group-list-container"></div>
                </div>
            `;

            const listContainer = document.getElementById('group-list-container');
            groups.forEach(group => {
                const button = document.createElement('button');
                button.className = "w-full text-left p-6 rounded-2xl shadow-lg transition-all duration-300";
                button.style.background = cardBgWithOpacity;
                button.style.borderBottom = '4px solid ' + COLORS.tabColor;
                button.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="p-3 rounded-lg mr-4" style="background: ${COLORS.tabColor}20;">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" style="color: ${COLORS.tabColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"/><path d="M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"/><path d="M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"/></svg>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold" style="color: ${COLORS.headlineColor}">${group.name}</h2>
                                <p class="text-sm mt-1" style="color: ${COLORS.subtitleColor}">${group.count} Workouts</p>
                            </div>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" style="color: ${COLORS.subtitleColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
                    </div>
                `;
                button.addEventListener('click', () => navigateTo('workoutList', { groupName: group.name }));
                listContainer.appendChild(button);
            });
        };

        const renderGroupWorkouts = (container) => {
            const filteredWorkouts = WORKOUTS.filter(w => w.group.split(' > ')[0] === selectedGroupName);
            const bgStyle = COLORS.backgroundImage 
                ? 'background: url(\'' + COLORS.backgroundImage + '\') center/cover no-repeat, ' + COLORS.background
                : 'background: ' + COLORS.background;
            
            const cardBgWithOpacity = hexToRgba(COLORS.cardBackground, COLORS.cardBackgroundOpacity);

            container.innerHTML = `
                <div class="min-h-screen p-4" style="${bgStyle}; color: ${COLORS.textColor};">
                    <header class="py-6 mb-6">
                        <button id="back-to-groups" class="flex items-center font-medium mb-6" style="color: ${COLORS.tabColor}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg> All Groups
                        </button>
                        <h1 class="text-3xl font-extrabold" style="color: ${COLORS.headlineColor}">${selectedGroupName}</h1>
                        <p class="mt-1" style="color: ${COLORS.subtitleColor}">Select a routine from this collection.</p>
                    </header>
                    <div class="space-y-4" id="workout-list-container"></div>
                </div>
            `;

            document.getElementById('back-to-groups').addEventListener('click', () => navigateTo('groupList'));

            const listContainer = document.getElementById('workout-list-container');
            filteredWorkouts.forEach(workout => {
                const button = document.createElement('button');
                button.className = "w-full text-left p-5 rounded-2xl shadow-lg transition-all duration-300";
                button.style.background = cardBgWithOpacity;
                button.style.borderBottom = '4px solid ' + COLORS.primaryColor;
                button.innerHTML = `
                    <div class="flex items-start">
                        <div class="p-3 rounded-lg mr-4" style="background: ${COLORS.primaryColor}20;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" style="color: ${COLORS.primaryColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z"/><path d="m2.5 21.5 1.4-1.4"/><path d="m20.1 3.9 1.4-1.4"/><path d="M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z"/><path d="m9.6 14.4 4.8-4.8"/></svg>
                        </div>
                        <div class="flex-grow">
                            <h2 class="text-xl font-bold" style="color: ${COLORS.headlineColor}">${workout.name}</h2>
                            <p class="text-sm mt-1" style="color: ${COLORS.subtitleColor}">${workout.target}</p>
                            <p class="text-sm font-semibold flex items-center mt-2" style="color: ${COLORS.primaryColor}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> ${workout.duration}
                            </p>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" style="color: ${COLORS.subtitleColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
                    </div>
                `;
                button.addEventListener('click', () => navigateTo('detail', { workoutId: workout.id }));
                listContainer.appendChild(button);
            });
        };

        const renderWorkoutDetail = (container) => {
            const workout = WORKOUTS.find(w => w.id === selectedWorkoutId);
            if (!workout) return navigateTo('groupList');

            const cardBgWithOpacity = hexToRgba(COLORS.cardBackground, COLORS.cardBackgroundOpacity);

            const oneRoundTime = workout.exercises.reduce((sum, step) => sum + step.duration, 0);
            const getEstimatedTime = (rounds) => {
                const totalExerciseTime = oneRoundTime * rounds;
                const totalTransitionRest = (rounds > 1 ? rounds - 1 : 0) * 60;
                return formatTime(totalExerciseTime + totalTransitionRest);
            };

            container.innerHTML = `
                <div class="min-h-screen flex flex-col p-4" style="background: ${COLORS.background}; color: ${COLORS.textColor};">
                    <button id="back-to-workouts" class="flex items-center font-medium mb-6" style="color: ${COLORS.primaryColor}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg> Back to Workouts
                    </button>

                    <div class="p-6 rounded-2xl shadow-xl mb-6" style="background: ${cardBgWithOpacity}; border-top: 4px solid ${COLORS.primaryColor};">
                        <div class="flex items-center justify-between mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" style="color: ${COLORS.primaryColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z"/><path d="m2.5 21.5 1.4-1.4"/><path d="m20.1 3.9 1.4-1.4"/><path d="M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z"/><path d="m9.6 14.4 4.8-4.8"/></svg>
                            <p class="text-sm font-semibold opacity-60 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> ${getEstimatedTime(selectedRounds)} Total
                            </p>
                        </div>
                        <h1 class="text-3xl font-extrabold mb-1">${workout.name}</h1>
                        <p class="opacity-70 italic">Target: ${workout.target}</p>
                        
                        <div class="mt-4 pt-4 border-t border-gray-700 flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <label for="rounds-selector" class="text-sm font-semibold opacity-60 mb-2 sm:mb-0">Select Rounds:</label>
                            <select id="rounds-selector" class="p-2 rounded-lg focus:outline-none cursor-pointer" style="background: ${cardBgWithOpacity}; border: 1px solid ${COLORS.primaryColor};">
                                <option value="1">1 Round (${getEstimatedTime(1)})</option>
                                <option value="2">2 Rounds (${getEstimatedTime(2)})</option>
                                <option value="3">3 Rounds (${getEstimatedTime(3)})</option>
                                <option value="4">4 Rounds (${getEstimatedTime(4)})</option>
                                <option value="5">5 Rounds (${getEstimatedTime(5)})</option>
                            </select>
                        </div>
                    </div>

                    <h2 class="text-xl font-bold mb-3 border-b border-gray-700 pb-2">Exercises (Per Round)</h2>
                    <div class="space-y-3 flex-grow overflow-y-auto pb-20" id="exercise-list"></div>

                    <div class="fixed bottom-0 left-0 right-0 p-4 shadow-2xl" style="background: ${COLORS.background}; border-top: 1px solid ${COLORS.cardBackground};">
                        <button id="start-workout-btn" class="w-full text-white p-4 rounded-xl text-xl font-bold flex items-center justify-center" style="background: ${COLORS.primaryColor};">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg> Start Workout
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('back-to-workouts').addEventListener('click', () => navigateTo('workoutList', { groupName: workout.group.split(' > ')[0] }));
            
            const roundsSelector = document.getElementById('rounds-selector');
            roundsSelector.value = selectedRounds;
            roundsSelector.addEventListener('change', (e) => { selectedRounds = parseInt(e.target.value, 10); });

            document.getElementById('start-workout-btn').addEventListener('click', () => {
                selectedRounds = parseInt(document.getElementById('rounds-selector').value, 10);
                navigateTo('player', { workoutId: selectedWorkoutId });
            });

            const exerciseList = document.getElementById('exercise-list');
            workout.exercises.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                const isExercise = step.type === 'exercise';
                stepDiv.className = 'flex justify-between items-center p-4 rounded-xl shadow-md transition-shadow';
                stepDiv.style.background = isExercise ? COLORS.secondaryColor + '20' : COLORS.accentColor + '20';
                stepDiv.innerHTML = `
                    <div class="flex items-center">
                        <span class="w-6 h-6 rounded-full text-white text-xs font-bold flex items-center justify-center mr-3" style="background: ${isExercise ? COLORS.secondaryColor : COLORS.accentColor};">${index + 1}</span>
                        <div>
                            <p class="text-lg font-semibold">${step.name}</p>
                            <p class="text-xs opacity-60">${isExercise ? 'Active' : 'Rest'}</p>
                        </div>
                    </div>
                    <p class="font-bold">${step.duration}s</p>
                `;
                exerciseList.appendChild(stepDiv);
            });
        };

        const renderWorkoutPlayer = (container) => {
            const workout = WORKOUTS.find(w => w.id === selectedWorkoutId);
            if (!workout || currentWorkoutSteps.length === 0) return navigateTo('groupList');

            const cardBgWithOpacity = hexToRgba(COLORS.cardBackground, COLORS.cardBackgroundOpacity);

            if (preWorkoutCountdown > 0) {
                container.innerHTML = `
                    <div class="min-h-screen flex flex-col items-center justify-center p-4 text-center" style="background: ${COLORS.background}; color: ${COLORS.textColor};">
                        <h1 class="text-3xl font-semibold mb-8" style="color: ${COLORS.primaryColor}">Get Ready for:</h1>
                        <h2 class="text-6xl font-extrabold mb-12 animate-pulse">${currentWorkoutSteps[0].name}</h2>
                        <div id="countdown-timer" class="text-9xl font-black" style="color: ${COLORS.secondaryColor}">${preWorkoutCountdown}</div>
                        <button id="skip-countdown-btn" class="mt-16 text-lg underline opacity-60">Skip Countdown</button>
                    </div>
                `;
                document.getElementById('skip-countdown-btn').addEventListener('click', () => {
                    if (introInterval) clearInterval(introInterval);
                    introInterval = null;
                    preWorkoutCountdown = 0;
                    isRunning = true;
                    renderApp();
                });
                
                introInterval = setInterval(() => {
                    preWorkoutCountdown--;
                    const timerEl = document.getElementById('countdown-timer');
                    if (preWorkoutCountdown >= 1 && preWorkoutCountdown <= 3) playTone(440);
                    if (preWorkoutCountdown <= 0) {
                        playTone(880, 0.2);
                        clearInterval(introInterval);
                        isRunning = true;
                        renderApp();
                    } else {
                        if(timerEl) timerEl.textContent = preWorkoutCountdown;
                    }
                }, 1000);
                return;
            }

            const renderPlayerUI = () => {
                const currentStep = currentWorkoutSteps[currentStepIndex];
                const isLastStep = currentStepIndex === currentWorkoutSteps.length - 1;
                const nextStep = !isLastStep ? currentWorkoutSteps[currentStepIndex + 1] : null;
                const totalSteps = currentWorkoutSteps.length;

                let typeColor = COLORS.cardBackground;
                if (currentStep.type === 'exercise') typeColor = COLORS.secondaryColor;
                else if (currentStep.type === 'rest') typeColor = COLORS.accentColor;
                else if (currentStep.type === 'transition') typeColor = COLORS.primaryColor;

                const timerProgress = initialTime > 0 ? (timeLeft / initialTime) * 100 : 0;
                const circumference = 2 * Math.PI * 45;
                const dashoffset = circumference * (1 - timerProgress / 100);

                const nextUpHtml = nextStep ? `
                    <div class="mt-4 p-3 rounded-xl shadow-inner text-center" style="background: ${cardBgWithOpacity}; border: 1px solid ${COLORS.cardBackground};">
                        <p class="text-xs font-semibold uppercase tracking-wider" style="color: ${COLORS.primaryColor}">Up Next</p>
                        <p class="text-xl font-bold mt-1">${nextStep.name} (${nextStep.duration}s)</p>
                    </div>
                ` : '';
                
                const currentRoundDisplay = currentStep.round ? 
                    (currentStep.type === 'transition' ? 'Break After Round ' + currentStep.round : 'Round ' + currentStep.round + ' of ' + selectedRounds)
                    : 'Warmup';

                const DEMO_VIDEO_URL = 'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4';
                const videoSourceUrl = currentStep.videoUrl || currentStep.imageUrl || DEMO_VIDEO_URL;
                const isImage = currentStep.imageUrl && !currentStep.videoUrl;
                const mediaHtml = isImage 
                    ? '<img src="' + videoSourceUrl + '" alt="' + currentStep.name + '" class="absolute inset-0 w-full h-full object-cover" />'
                    : '<video id="demo-video" class="absolute inset-0 w-full h-full object-cover" src="' + videoSourceUrl + '" autoplay loop muted playsinline></video>';

                const playerHtml = `
                    <div class="min-h-screen flex flex-col p-4" style="background: ${COLORS.background}; color: ${COLORS.textColor};">
                        <div class="flex items-center justify-between mb-6">
                            <button id="player-back-btn" class="flex items-center font-medium" style="color: ${COLORS.primaryColor}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg> Back
                            </button>
                            <h1 class="text-xl font-bold truncate">${workout.name} (${selectedRounds} Rds)</h1>
                            <div class="text-right">
                                <p class="text-xs opacity-60 uppercase tracking-wider">Total Time Left</p>
                                <p id="total-time-display" class="text-lg font-bold">${formatTime(totalTimeLeft)}</p>
                            </div>
                        </div>

                        <div class="flex-1 flex flex-col lg:grid lg:grid-cols-2 lg:gap-8">
                            <div class="flex flex-col">
                                <div class="w-full aspect-video rounded-xl shadow-lg relative overflow-hidden" style="background: ${cardBgWithOpacity};">
                                    ${mediaHtml}
                                </div>
                                <div id="current-step-card" class="mt-6 lg:mt-4 p-4 rounded-xl shadow-lg text-white text-center transition-colors duration-300" style="background: ${typeColor};">
                                    <div class="text-sm font-light uppercase tracking-widest opacity-80">${currentStep.type === 'exercise' ? 'CURRENT EXERCISE' : 'BREAK TIME'}</div>
                                    <h2 class="text-4xl font-extrabold mt-1 mb-2">${currentStep.name}</h2>
                                    <p class="text-xs font-semibold opacity-70">${currentRoundDisplay}</p>
                                </div>
                                ${nextUpHtml}
                            </div>
                            
                            <div class="flex flex-col justify-between pt-6 lg:pt-0">
                                <div class="lg:order-1">
                                    <div class="text-sm opacity-60 flex justify-between">
                                        <span id="step-count">Step ${currentStepIndex + 1} of ${totalSteps}</span>
                                        <span id="step-type" class="font-medium uppercase">${currentStep.type}</span>
                                    </div>
                                    <div class="w-full h-2 rounded-full mt-1" style="background: ${cardBgWithOpacity};">
                                        <div id="overall-progress" class="h-2 rounded-full transition-all duration-700" style="width: ${((currentStepIndex + 1) / totalSteps) * 100}%; background: ${typeColor};"></div>
                                    </div>
                                </div>

                                <div class="relative flex justify-center my-10 lg:my-0 lg:flex-1 lg:items-center lg:justify-center lg:py-8">
                                    <div class="w-56 h-56 rounded-full flex items-center justify-center relative shadow-2xl">
                                        <div class="absolute inset-0 rounded-full" style="background: ${cardBgWithOpacity};"></div>
                                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100">
                                            <circle cx="50" cy="50" r="45" fill="none" stroke-width="5" stroke-dasharray="${circumference}" stroke-dashoffset="${dashoffset}" id="timer-progress-circle" class="progress-circle" style="stroke: ${typeColor};" transform="rotate(-90 50 50)"/>
                                        </svg>
                                        <p id="timer-display" class="relative big-timer font-black ${timeLeft < 60 ? 'seconds-only' : ''}">${formatBigTimer(timeLeft)}</p>
                                    </div>
                                </div>

                                <div class="lg:order-3 mt-auto">
                                    <div class="flex justify-around items-center p-4 rounded-xl" style="background: ${cardBgWithOpacity};">
                                        <button id="play-pause-btn" class="p-4 rounded-full shadow-lg transition-all duration-300" style="background: ${isRunning ? COLORS.accentColor : COLORS.secondaryColor};">
                                            ${isRunning ? '<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>' : '<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>'}
                                        </button>
                                        <button id="skip-btn" class="p-4 rounded-full shadow-lg ml-4 transition-colors" style="background: ${cardBgWithOpacity};">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 4 15 12 5 20 5 4"/><line x1="19" x2="19" y1="5" y2="19"/></svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML = playerHtml;

                document.getElementById('player-back-btn').addEventListener('click', () => navigateTo('detail', { workoutId: selectedWorkoutId }));
                document.getElementById('play-pause-btn').addEventListener('click', () => { isRunning = !isRunning; renderPlayerUI(); });
                document.getElementById('skip-btn').addEventListener('click', handleSkip);

                if (isRunning && !timerInterval) {
                    timerInterval = setInterval(updateTimer, 1000);
                }
            };

            const updateTimer = () => {
                if (!isRunning) return;
                totalTimeLeft--;
                const totalTimeDisplay = document.getElementById('total-time-display');
                if (totalTimeDisplay) totalTimeDisplay.textContent = formatTime(totalTimeLeft);
                timeLeft--;
                const isLastStep = currentStepIndex === currentWorkoutSteps.length - 1;
                
                if (timeLeft >= 1 && timeLeft <= 3) playTone(440);

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    if (!isLastStep) {
                        playTone(880, 0.2);
                        currentStepIndex++;
                        const nextStep = currentWorkoutSteps[currentStepIndex];
                        timeLeft = nextStep.duration;
                        initialTime = nextStep.duration;
                        renderPlayerUI();
                    } else {
                        playTone(880, 0.3);
                        setTimeout(() => {
                            playTone(880, 0.3);
                            setTimeout(() => playTone(880, 0.3), 200);
                        }, 200);
                        isRunning = false;
                        setTimeout(() => navigateTo('complete', { workoutId: selectedWorkoutId }), 500);
                    }
                } else {
                    const timerDisplay = document.getElementById('timer-display');
                    if (timerDisplay) {
                        timerDisplay.textContent = formatBigTimer(timeLeft);
                        timerDisplay.className = 'relative big-timer font-black ' + (timeLeft < 60 ? 'seconds-only' : '');
                    }
                    const progressCircle = document.getElementById('timer-progress-circle');
                    if (progressCircle) {
                        const circumference = 2 * Math.PI * 45;
                        const progress = initialTime > 0 ? (timeLeft / initialTime) * 100 : 0;
                        progressCircle.setAttribute('stroke-dashoffset', circumference * (1 - progress / 100));
                    }
                }
            };

            const handleSkip = () => {
                clearInterval(timerInterval);
                timerInterval = null;
                const isLastStep = currentStepIndex === currentWorkoutSteps.length - 1;
                if (!isLastStep) {
                    totalTimeLeft -= timeLeft;
                    currentStepIndex++;
                    const nextStep = currentWorkoutSteps[currentStepIndex];
                    timeLeft = nextStep.duration;
                    initialTime = nextStep.duration;
                    renderPlayerUI();
                } else {
                    navigateTo('complete', { workoutId: selectedWorkoutId });
                }
            };

            renderPlayerUI();
        };

        const renderCompletionScreen = (container) => {
            const workout = WORKOUTS.find(w => w.id === selectedWorkoutId);
            if (!workout) return navigateTo('groupList');

            const cardBgWithOpacity = hexToRgba(COLORS.cardBackground, COLORS.cardBackgroundOpacity);

            const POSITIVE_MESSAGES = [
                "WELL DONE ON COMPLETING THE WORKOUT!",
                "YOU CRUSHED IT! WHAT A PERFORMANCE!",
                "FANTASTIC EFFORT! THAT'S ANOTHER ONE DONE.",
                "MUSCLES MADE, STRESS RELIEVED. GREAT JOB!",
                "CONSISTENCY IS KEY. KEEP UP THE AMAZING WORK!",
                "YOU DID IT! FEEL THAT ENDORPHIN RUSH!",
                "POWERFUL PERFORMANCE. YOU ARE UNSTOPPABLE!",
                "EVERY REP COUNTS. WONDERFUL JOB FINISHING!",
                "YOU EARNED THAT! CELEBRATE YOUR STRENGTH.",
                "GOALS ACHIEVED! BE PROUD OF YOUR EFFORT."
            ];
            const randomMessage = POSITIVE_MESSAGES[Math.floor(Math.random() * POSITIVE_MESSAGES.length)];

            const finalTimeDisplay = formatTime(initialTotalDuration);
            const activeTimeDisplay = formatTime(totalExerciseTime);
            const restTimeDisplay = formatTime(totalRestTime);

            const html = `
                <div class="min-h-screen flex flex-col items-center justify-center p-6 text-center" style="background: ${COLORS.background}; color: ${COLORS.textColor};">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-24 h-24 mb-6" style="color: ${COLORS.secondaryColor}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                    
                    <h1 class="text-3xl md:text-4xl font-extrabold mb-8 uppercase" style="color: ${COLORS.secondaryColor}">
                        ${randomMessage}
                    </h1>

                    <p class="text-xl font-semibold mb-2">${workout.name}</p>
                    
                    <div class="p-6 rounded-xl w-full max-w-sm shadow-xl mt-4 mb-10" style="background: ${cardBgWithOpacity}; border: 1px solid ${COLORS.primaryColor}30;">
                        <h2 class="text-lg font-bold border-b pb-2 mb-4 text-left" style="border-color: ${COLORS.primaryColor}30; color: ${COLORS.primaryColor}">Your Session Summary:</h2>
                        <div class="space-y-3 text-left">
                            <div class="flex justify-between items-center text-lg">
                                <span class="font-medium">Total Duration:</span>
                                <span class="font-bold" style="color: ${COLORS.secondaryColor}">${finalTimeDisplay}</span>
                            </div>
                            <div class="flex justify-between items-center opacity-70">
                                <span>Time Exercising:</span>
                                <span class="font-bold">${activeTimeDisplay}</span>
                            </div>
                            <div class="flex justify-between items-center opacity-70">
                                <span>Time Resting:</span>
                                <span class="font-bold">${restTimeDisplay}</span>
                            </div>
                            <div class="flex justify-between items-center border-t pt-3 mt-3" style="border-color: ${COLORS.primaryColor}30;">
                                <span class="font-medium">Rounds Completed:</span>
                                <span class="text-xl font-extrabold" style="color: ${COLORS.secondaryColor}">${selectedRounds}</span>
                            </div>
                        </div>
                    </div>
                    
                    <button id="go-home-btn" class="text-white p-4 rounded-xl text-lg font-bold shadow-lg flex items-center" style="background: ${COLORS.primaryColor};">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg> Go to Workouts
                    </button>
                </div>
            `;
            container.innerHTML = html;
            document.getElementById('go-home-btn').addEventListener('click', () => navigateTo('groupList'));
        };

        // Initialize
        renderApp();
    </script>
</body>
    </html>
